<!-- https://mdbootstrap.com/javascript/carousel/ -->
<!-- path pathURL indicator control -->
{{ $path := .Get "path" }}
{{ $pathURL := .Get "pathURL" }} 


<div class="carousel slide carousel-fade" data-ride="carousel">
  <div class="carousel-inner">
    {{ $files := readDir $path }}

    <!-- Indicator -->
    {{ if .Get "indicator" }}
      <ol class="carousel-indicators">
        {{ range $index, $element := $files }}
          {{ if (findRE ".(jpg|jpeg|png|JPG|PNG)" .Name) }}
            {{ if eq $index 1 }}  
              <li data-target="#carouselExampleIndicators" data-slide-to="{{ sub $index 1 }}" class="active"></li>
            {{ else }}
              <li data-target="#carouselExampleIndicators" data-slide-to="{{ sub $index 1 }}"></li>
            {{ end }}
          {{end}}
        {{end}}
      </ol>
    {{ end }}

    <!-- Slides -->
    {{ range $index, $element := $files }}
      {{ if (findRE ".(jpg|jpeg|png|JPG|PNG)" .Name) }}
    
        {{ if eq $index 1 }}
          <div class="carousel-item active">
            <img class="d-block w-100" src="{{ $pathURL }}{{ .Name | relURL }}" alt="{{ $index }} slide">
          </div>
        
        {{ else }}
          <div class="carousel-item">
            <img class="d-block w-100" src="{{ $pathURL }}{{ .Name | relURL }}" alt="{{ $index }} slide">
          </div>
        {{ end }}
      {{ end }}
    {{ end }}

    <!-- Control -->
    {{ if .Get "control" }}
      <a class="carousel-control-prev" href="#carouselExampleFade" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleFade" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    {{ end }}
    
  </div>
</div>
